{"ast":null,"code":"// services/api/authService.js\nimport axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api';\n\n// Configuración global de axios\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\naxios.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    // Token expirado o inválido\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nconst authService = {\n  // Login de usuario\n  async login(email, password) {\n    try {\n      const response = await axios.post(`${API_URL}/auth/login`, {\n        email,\n        password\n      });\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Registro de usuario\n  async register(userData) {\n    try {\n      const response = await axios.post(`${API_URL}/auth/register`, userData);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Cerrar sesión\n  logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    return Promise.resolve();\n  },\n  // Obtener usuario actual\n  getCurrentUser() {\n    const user = localStorage.getItem('user');\n    return user ? JSON.parse(user) : null;\n  },\n  // Verificar si está autenticado\n  isAuthenticated() {\n    return !!localStorage.getItem('token');\n  },\n  // Obtener token\n  getToken() {\n    return localStorage.getItem('token');\n  },\n  // Actualizar perfil\n  async updateProfile(userId, userData) {\n    try {\n      const response = await axios.put(`${API_URL}/users/${userId}`, userData);\n\n      // Actualizar usuario en localStorage\n      const currentUser = this.getCurrentUser();\n      if (currentUser && currentUser.id === userId) {\n        const updatedUser = {\n          ...currentUser,\n          ...userData\n        };\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n      }\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Cambiar contraseña\n  async changePassword(userId, passwordData) {\n    try {\n      const response = await axios.put(`${API_URL}/users/${userId}/password`, passwordData);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Recuperar contraseña\n  async forgotPassword(email) {\n    try {\n      const response = await axios.post(`${API_URL}/auth/forgot-password`, {\n        email\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Resetear contraseña\n  async resetPassword(token, newPassword) {\n    try {\n      const response = await axios.post(`${API_URL}/auth/reset-password`, {\n        token,\n        newPassword\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Verificar token\n  async verifyToken(token) {\n    try {\n      const response = await axios.get(`${API_URL}/auth/verify-token/${token}`);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Login con Google\n  async googleLogin(credential) {\n    try {\n      const response = await axios.post(`${API_URL}/auth/google`, {\n        credential\n      });\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Login con Microsoft\n  async microsoftLogin(token) {\n    try {\n      const response = await axios.post(`${API_URL}/auth/microsoft`, {\n        token\n      });\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Demo login (para desarrollo)\n  async demoLogin(role = 'USER') {\n    // Datos de demo para pruebas\n    const demoUsers = {\n      ADMIN: {\n        id: 1,\n        email: 'admin@demo.com',\n        name: 'Administrador Demo',\n        role: 'ADMIN',\n        firstName: 'Admin',\n        lastName: 'Demo',\n        dni: '12345678A',\n        phone: '+34 600 000 001',\n        address: 'Calle Demo 123'\n      },\n      LIBRARIAN: {\n        id: 2,\n        email: 'librarian@demo.com',\n        name: 'Bibliotecario Demo',\n        role: 'LIBRARIAN',\n        firstName: 'Bibliotecario',\n        lastName: 'Demo',\n        dni: '87654321B',\n        phone: '+34 600 000 002',\n        address: 'Calle Demo 456'\n      },\n      USER: {\n        id: 3,\n        email: 'user@demo.com',\n        name: 'Usuario Demo',\n        role: 'USER',\n        firstName: 'Usuario',\n        lastName: 'Demo',\n        dni: '11223344C',\n        phone: '+34 600 000 003',\n        address: 'Calle Demo 789'\n      }\n    };\n    const user = demoUsers[role];\n    if (!user) throw new Error('Rol de demo no válido');\n    const token = `demo-token-${role.toLowerCase()}-${Date.now()}`;\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(user));\n    return {\n      token,\n      user,\n      message: 'Login de demostración exitoso'\n    };\n  },\n  // Manejo de errores\n  handleError(error) {\n    console.error('Auth Service Error:', error);\n    if (error.response) {\n      // Error del servidor\n      const {\n        status,\n        data\n      } = error.response;\n      switch (status) {\n        case 400:\n          return new Error(data.message || 'Datos de entrada inválidos');\n        case 401:\n          return new Error('Credenciales inválidas o sesión expirada');\n        case 403:\n          return new Error('No tienes permisos para realizar esta acción');\n        case 404:\n          return new Error('Recurso no encontrado');\n        case 409:\n          return new Error('El usuario ya existe');\n        case 422:\n          return new Error('Error de validación: ' + (data.errors || 'Datos inválidos'));\n        case 500:\n          return new Error('Error interno del servidor');\n        default:\n          return new Error(data.message || 'Error desconocido');\n      }\n    } else if (error.request) {\n      // Error de red\n      return new Error('Error de conexión. Verifica tu conexión a internet.');\n    } else {\n      // Error en la configuración\n      return new Error('Error en la configuración de la solicitud');\n    }\n  }\n};\nexport default authService;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","authService","login","email","password","post","data","setItem","JSON","stringify","user","handleError","register","userData","logout","resolve","getCurrentUser","parse","isAuthenticated","getToken","updateProfile","userId","put","currentUser","id","updatedUser","changePassword","passwordData","forgotPassword","resetPassword","newPassword","verifyToken","get","googleLogin","credential","microsoftLogin","demoLogin","role","demoUsers","ADMIN","name","firstName","lastName","dni","phone","address","LIBRARIAN","USER","Error","toLowerCase","Date","now","message","console","errors"],"sources":["C:/Users/YULIANA/Downloads/digital-library/digital-library/frontend/src/services/api/authService.js"],"sourcesContent":["// services/api/authService.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api';\r\n\r\n// Configuración global de axios\r\naxios.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\naxios.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Token expirado o inválido\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst authService = {\r\n  // Login de usuario\r\n  async login(email, password) {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/auth/login`, {\r\n        email,\r\n        password\r\n      });\r\n      \r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Registro de usuario\r\n  async register(userData) {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/auth/register`, userData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Cerrar sesión\r\n  logout() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    return Promise.resolve();\r\n  },\r\n\r\n  // Obtener usuario actual\r\n  getCurrentUser() {\r\n    const user = localStorage.getItem('user');\r\n    return user ? JSON.parse(user) : null;\r\n  },\r\n\r\n  // Verificar si está autenticado\r\n  isAuthenticated() {\r\n    return !!localStorage.getItem('token');\r\n  },\r\n\r\n  // Obtener token\r\n  getToken() {\r\n    return localStorage.getItem('token');\r\n  },\r\n\r\n  // Actualizar perfil\r\n  async updateProfile(userId, userData) {\r\n    try {\r\n      const response = await axios.put(`${API_URL}/users/${userId}`, userData);\r\n      \r\n      // Actualizar usuario en localStorage\r\n      const currentUser = this.getCurrentUser();\r\n      if (currentUser && currentUser.id === userId) {\r\n        const updatedUser = { ...currentUser, ...userData };\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Cambiar contraseña\r\n  async changePassword(userId, passwordData) {\r\n    try {\r\n      const response = await axios.put(`${API_URL}/users/${userId}/password`, passwordData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Recuperar contraseña\r\n  async forgotPassword(email) {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/auth/forgot-password`, { email });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Resetear contraseña\r\n  async resetPassword(token, newPassword) {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/auth/reset-password`, {\r\n        token,\r\n        newPassword\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Verificar token\r\n  async verifyToken(token) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/auth/verify-token/${token}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Login con Google\r\n  async googleLogin(credential) {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/auth/google`, { credential });\r\n      \r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Login con Microsoft\r\n  async microsoftLogin(token) {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/auth/microsoft`, { token });\r\n      \r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Demo login (para desarrollo)\r\n  async demoLogin(role = 'USER') {\r\n    // Datos de demo para pruebas\r\n    const demoUsers = {\r\n      ADMIN: {\r\n        id: 1,\r\n        email: 'admin@demo.com',\r\n        name: 'Administrador Demo',\r\n        role: 'ADMIN',\r\n        firstName: 'Admin',\r\n        lastName: 'Demo',\r\n        dni: '12345678A',\r\n        phone: '+34 600 000 001',\r\n        address: 'Calle Demo 123'\r\n      },\r\n      LIBRARIAN: {\r\n        id: 2,\r\n        email: 'librarian@demo.com',\r\n        name: 'Bibliotecario Demo',\r\n        role: 'LIBRARIAN',\r\n        firstName: 'Bibliotecario',\r\n        lastName: 'Demo',\r\n        dni: '87654321B',\r\n        phone: '+34 600 000 002',\r\n        address: 'Calle Demo 456'\r\n      },\r\n      USER: {\r\n        id: 3,\r\n        email: 'user@demo.com',\r\n        name: 'Usuario Demo',\r\n        role: 'USER',\r\n        firstName: 'Usuario',\r\n        lastName: 'Demo',\r\n        dni: '11223344C',\r\n        phone: '+34 600 000 003',\r\n        address: 'Calle Demo 789'\r\n      }\r\n    };\r\n\r\n    const user = demoUsers[role];\r\n    if (!user) throw new Error('Rol de demo no válido');\r\n\r\n    const token = `demo-token-${role.toLowerCase()}-${Date.now()}`;\r\n    \r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n\r\n    return {\r\n      token,\r\n      user,\r\n      message: 'Login de demostración exitoso'\r\n    };\r\n  },\r\n\r\n  // Manejo de errores\r\n  handleError(error) {\r\n    console.error('Auth Service Error:', error);\r\n    \r\n    if (error.response) {\r\n      // Error del servidor\r\n      const { status, data } = error.response;\r\n      \r\n      switch (status) {\r\n        case 400:\r\n          return new Error(data.message || 'Datos de entrada inválidos');\r\n        case 401:\r\n          return new Error('Credenciales inválidas o sesión expirada');\r\n        case 403:\r\n          return new Error('No tienes permisos para realizar esta acción');\r\n        case 404:\r\n          return new Error('Recurso no encontrado');\r\n        case 409:\r\n          return new Error('El usuario ya existe');\r\n        case 422:\r\n          return new Error('Error de validación: ' + (data.errors || 'Datos inválidos'));\r\n        case 500:\r\n          return new Error('Error interno del servidor');\r\n        default:\r\n          return new Error(data.message || 'Error desconocido');\r\n      }\r\n    } else if (error.request) {\r\n      // Error de red\r\n      return new Error('Error de conexión. Verifica tu conexión a internet.');\r\n    } else {\r\n      // Error en la configuración\r\n      return new Error('Error en la configuración de la solicitud');\r\n    }\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}