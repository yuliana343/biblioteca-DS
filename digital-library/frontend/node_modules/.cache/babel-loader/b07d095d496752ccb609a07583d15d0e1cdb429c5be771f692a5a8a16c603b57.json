{"ast":null,"code":"// services/api/bookService.js\nimport axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api';\nconst bookService = {\n  // Obtener todos los libros con paginación\n  async getBooks(page = 0, size = 20, filters = {}) {\n    try {\n      const params = {\n        page,\n        size,\n        ...filters\n      };\n      const response = await axios.get(`${API_URL}/books`, {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Buscar libros\n  async searchBooks(query, page = 0, size = 20) {\n    try {\n      const response = await axios.get(`${API_URL}/books/search`, {\n        params: {\n          query,\n          page,\n          size\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Obtener libro por ID\n  async getBookById(id) {\n    try {\n      const response = await axios.get(`${API_URL}/books/${id}`);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Obtener libro por ISBN\n  async getBookByIsbn(isbn) {\n    try {\n      const response = await axios.get(`${API_URL}/books/isbn/${isbn}`);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Crear nuevo libro\n  async createBook(bookData) {\n    try {\n      const response = await axios.post(`${API_URL}/books`, bookData);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Actualizar libro\n  async updateBook(id, bookData) {\n    try {\n      const response = await axios.put(`${API_URL}/books/${id}`, bookData);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Eliminar libro\n  async deleteBook(id) {\n    try {\n      const response = await axios.delete(`${API_URL}/books/${id}`);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Obtener libros por categoría\n  async getBooksByCategory(categoryId, page = 0, size = 20) {\n    try {\n      const response = await axios.get(`${API_URL}/books/category/${categoryId}`, {\n        params: {\n          page,\n          size\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Obtener libros por autor\n  async getBooksByAuthor(authorId, page = 0, size = 20) {\n    try {\n      const response = await axios.get(`${API_URL}/books/author/${authorId}`, {\n        params: {\n          page,\n          size\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Obtener libros más populares\n  async getPopularBooks(limit = 10) {\n    try {\n      const response = await axios.get(`${API_URL}/books/popular`, {\n        params: {\n          limit\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Obtener libros recientes\n  async getRecentBooks(limit = 10) {\n    try {\n      const response = await axios.get(`${API_URL}/books/recent`, {\n        params: {\n          limit\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Obtener libros disponibles\n  async getAvailableBooks(page = 0, size = 20) {\n    try {\n      const response = await axios.get(`${API_URL}/books/available`, {\n        params: {\n          page,\n          size\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Obtener estadísticas de libros\n  async getBookStats() {\n    try {\n      const response = await axios.get(`${API_URL}/books/stats`);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Subir portada de libro\n  async uploadBookCover(bookId, imageFile) {\n    try {\n      const formData = new FormData();\n      formData.append('file', imageFile);\n      const response = await axios.post(`${API_URL}/books/${bookId}/cover`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Actualizar copias disponibles\n  async updateAvailableCopies(bookId, copies) {\n    try {\n      const response = await axios.patch(`${API_URL}/books/${bookId}/copies`, {\n        availableCopies: copies\n      });\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  },\n  // Simulación de datos para desarrollo\n  async getMockBooks(filters = {}, page = 0, size = 20) {\n    // Generar datos de prueba\n    const totalBooks = 156;\n    const startIndex = page * size;\n    const endIndex = startIndex + size;\n    const mockBooks = Array.from({\n      length: Math.min(size, totalBooks - startIndex)\n    }, (_, i) => {\n      const index = startIndex + i + 1;\n      return {\n        id: index,\n        title: `Libro ${index}: ${['El Gran Libro', 'Historia de', 'Ciencia Avanzada', 'Arte Moderno'][i % 4]}`,\n        author: `Autor ${String.fromCharCode(65 + i % 26)}. Autor`,\n        isbn: `978-3-16-148410-${String(index).padStart(3, '0')}`,\n        cover: `https://picsum.photos/200/300?random=${index}`,\n        description: 'Descripción del libro con información relevante sobre su contenido y autoría.',\n        category: ['Ficción', 'Ciencia', 'Historia', 'Arte', 'Tecnología'][i % 5],\n        year: 2000 + i % 24,\n        pages: 300 + i * 10,\n        rating: 3.5 + Math.random() * 1.5,\n        availableCopies: i % 5,\n        totalCopies: 5,\n        publisher: ['Editorial A', 'Editorial B', 'Editorial C'][i % 3],\n        language: ['Español', 'Inglés', 'Francés'][i % 3],\n        createdAt: new Date(2023, i % 12, i % 28 + 1).toISOString(),\n        updatedAt: new Date(2023, i % 12, i % 28 + 1).toISOString()\n      };\n    });\n\n    // Aplicar filtros\n    let filteredBooks = mockBooks;\n    if (filters.category && filters.category !== 'all') {\n      filteredBooks = filteredBooks.filter(book => book.category === filters.category);\n    }\n    if (filters.availability === 'available') {\n      filteredBooks = filteredBooks.filter(book => book.availableCopies > 0);\n    } else if (filters.availability === 'unavailable') {\n      filteredBooks = filteredBooks.filter(book => book.availableCopies === 0);\n    }\n    if (filters.search) {\n      const searchTerm = filters.search.toLowerCase();\n      filteredBooks = filteredBooks.filter(book => book.title.toLowerCase().includes(searchTerm) || book.author.toLowerCase().includes(searchTerm) || book.description.toLowerCase().includes(searchTerm));\n    }\n\n    // Simular delay de API\n    await new Promise(resolve => setTimeout(resolve, 500));\n    return {\n      content: filteredBooks,\n      page,\n      size,\n      totalElements: filteredBooks.length,\n      totalPages: Math.ceil(filteredBooks.length / size),\n      last: page >= Math.ceil(filteredBooks.length / size) - 1\n    };\n  },\n  // Manejo de errores\n  handleError(error) {\n    console.error('Book Service Error:', error);\n    if (error.response) {\n      const {\n        status,\n        data\n      } = error.response;\n      switch (status) {\n        case 400:\n          return new Error(data.message || 'Datos de libro inválidos');\n        case 404:\n          return new Error('Libro no encontrado');\n        case 409:\n          return new Error('El libro con este ISBN ya existe');\n        case 422:\n          return new Error('Error de validación: ' + (data.errors || 'Datos inválidos'));\n        case 500:\n          return new Error('Error interno del servidor');\n        default:\n          return new Error(data.message || 'Error desconocido');\n      }\n    } else if (error.request) {\n      return new Error('Error de conexión. Verifica tu conexión a internet.');\n    } else {\n      return new Error('Error en la configuración de la solicitud');\n    }\n  }\n};\nexport default bookService;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","bookService","getBooks","page","size","filters","params","response","get","data","error","handleError","searchBooks","query","getBookById","id","getBookByIsbn","isbn","createBook","bookData","post","updateBook","put","deleteBook","delete","getBooksByCategory","categoryId","getBooksByAuthor","authorId","getPopularBooks","limit","getRecentBooks","getAvailableBooks","getBookStats","uploadBookCover","bookId","imageFile","formData","FormData","append","headers","updateAvailableCopies","copies","patch","availableCopies","getMockBooks","totalBooks","startIndex","endIndex","mockBooks","Array","from","length","Math","min","_","i","index","title","author","String","fromCharCode","padStart","cover","description","category","year","pages","rating","random","totalCopies","publisher","language","createdAt","Date","toISOString","updatedAt","filteredBooks","filter","book","availability","search","searchTerm","toLowerCase","includes","Promise","resolve","setTimeout","content","totalElements","totalPages","ceil","last","console","status","Error","message","errors","request"],"sources":["C:/Users/YULIANA/Downloads/digital-library/digital-library/frontend/src/services/api/bookService.js"],"sourcesContent":["// services/api/bookService.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api';\r\n\r\nconst bookService = {\r\n  // Obtener todos los libros con paginación\r\n  async getBooks(page = 0, size = 20, filters = {}) {\r\n    try {\r\n      const params = {\r\n        page,\r\n        size,\r\n        ...filters\r\n      };\r\n      \r\n      const response = await axios.get(`${API_URL}/books`, { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Buscar libros\r\n  async searchBooks(query, page = 0, size = 20) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/search`, {\r\n        params: { query, page, size }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Obtener libro por ID\r\n  async getBookById(id) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Obtener libro por ISBN\r\n  async getBookByIsbn(isbn) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/isbn/${isbn}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Crear nuevo libro\r\n  async createBook(bookData) {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/books`, bookData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Actualizar libro\r\n  async updateBook(id, bookData) {\r\n    try {\r\n      const response = await axios.put(`${API_URL}/books/${id}`, bookData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Eliminar libro\r\n  async deleteBook(id) {\r\n    try {\r\n      const response = await axios.delete(`${API_URL}/books/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Obtener libros por categoría\r\n  async getBooksByCategory(categoryId, page = 0, size = 20) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/category/${categoryId}`, {\r\n        params: { page, size }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Obtener libros por autor\r\n  async getBooksByAuthor(authorId, page = 0, size = 20) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/author/${authorId}`, {\r\n        params: { page, size }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Obtener libros más populares\r\n  async getPopularBooks(limit = 10) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/popular`, {\r\n        params: { limit }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Obtener libros recientes\r\n  async getRecentBooks(limit = 10) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/recent`, {\r\n        params: { limit }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Obtener libros disponibles\r\n  async getAvailableBooks(page = 0, size = 20) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/available`, {\r\n        params: { page, size }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Obtener estadísticas de libros\r\n  async getBookStats() {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/books/stats`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Subir portada de libro\r\n  async uploadBookCover(bookId, imageFile) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', imageFile);\r\n      \r\n      const response = await axios.post(`${API_URL}/books/${bookId}/cover`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Actualizar copias disponibles\r\n  async updateAvailableCopies(bookId, copies) {\r\n    try {\r\n      const response = await axios.patch(`${API_URL}/books/${bookId}/copies`, {\r\n        availableCopies: copies\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this.handleError(error);\r\n    }\r\n  },\r\n\r\n  // Simulación de datos para desarrollo\r\n  async getMockBooks(filters = {}, page = 0, size = 20) {\r\n    // Generar datos de prueba\r\n    const totalBooks = 156;\r\n    const startIndex = page * size;\r\n    const endIndex = startIndex + size;\r\n    \r\n    const mockBooks = Array.from({ length: Math.min(size, totalBooks - startIndex) }, (_, i) => {\r\n      const index = startIndex + i + 1;\r\n      return {\r\n        id: index,\r\n        title: `Libro ${index}: ${['El Gran Libro', 'Historia de', 'Ciencia Avanzada', 'Arte Moderno'][i % 4]}`,\r\n        author: `Autor ${String.fromCharCode(65 + (i % 26))}. Autor`,\r\n        isbn: `978-3-16-148410-${String(index).padStart(3, '0')}`,\r\n        cover: `https://picsum.photos/200/300?random=${index}`,\r\n        description: 'Descripción del libro con información relevante sobre su contenido y autoría.',\r\n        category: ['Ficción', 'Ciencia', 'Historia', 'Arte', 'Tecnología'][i % 5],\r\n        year: 2000 + (i % 24),\r\n        pages: 300 + (i * 10),\r\n        rating: 3.5 + (Math.random() * 1.5),\r\n        availableCopies: i % 5,\r\n        totalCopies: 5,\r\n        publisher: ['Editorial A', 'Editorial B', 'Editorial C'][i % 3],\r\n        language: ['Español', 'Inglés', 'Francés'][i % 3],\r\n        createdAt: new Date(2023, i % 12, (i % 28) + 1).toISOString(),\r\n        updatedAt: new Date(2023, i % 12, (i % 28) + 1).toISOString()\r\n      };\r\n    });\r\n\r\n    // Aplicar filtros\r\n    let filteredBooks = mockBooks;\r\n    if (filters.category && filters.category !== 'all') {\r\n      filteredBooks = filteredBooks.filter(book => book.category === filters.category);\r\n    }\r\n    if (filters.availability === 'available') {\r\n      filteredBooks = filteredBooks.filter(book => book.availableCopies > 0);\r\n    } else if (filters.availability === 'unavailable') {\r\n      filteredBooks = filteredBooks.filter(book => book.availableCopies === 0);\r\n    }\r\n    if (filters.search) {\r\n      const searchTerm = filters.search.toLowerCase();\r\n      filteredBooks = filteredBooks.filter(book => \r\n        book.title.toLowerCase().includes(searchTerm) ||\r\n        book.author.toLowerCase().includes(searchTerm) ||\r\n        book.description.toLowerCase().includes(searchTerm)\r\n      );\r\n    }\r\n\r\n    // Simular delay de API\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n    return {\r\n      content: filteredBooks,\r\n      page,\r\n      size,\r\n      totalElements: filteredBooks.length,\r\n      totalPages: Math.ceil(filteredBooks.length / size),\r\n      last: page >= Math.ceil(filteredBooks.length / size) - 1\r\n    };\r\n  },\r\n\r\n  // Manejo de errores\r\n  handleError(error) {\r\n    console.error('Book Service Error:', error);\r\n    \r\n    if (error.response) {\r\n      const { status, data } = error.response;\r\n      \r\n      switch (status) {\r\n        case 400:\r\n          return new Error(data.message || 'Datos de libro inválidos');\r\n        case 404:\r\n          return new Error('Libro no encontrado');\r\n        case 409:\r\n          return new Error('El libro con este ISBN ya existe');\r\n        case 422:\r\n          return new Error('Error de validación: ' + (data.errors || 'Datos inválidos'));\r\n        case 500:\r\n          return new Error('Error interno del servidor');\r\n        default:\r\n          return new Error(data.message || 'Error desconocido');\r\n      }\r\n    } else if (error.request) {\r\n      return new Error('Error de conexión. Verifica tu conexión a internet.');\r\n    } else {\r\n      return new Error('Error en la configuración de la solicitud');\r\n    }\r\n  }\r\n};\r\n\r\nexport default bookService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}